バッドノウハウ「水平分割」の代替手段のデータマートを実現する手段として
「マテリアライズドビュー」がどのような機能か調べてまとめる。

通常のビューで作成した場合は参照するたびにSQLクエリが発行されるため、実行速度が遅くなってしまうが、
ストレージの費用が掛からないなどのメリットもある

それに比べて、マテリアライズドビューを使用した際のメリットとデメリットは以下のようになっている
メリット
・高速なデータアクセス: 実体データを持つため、クエリの実行が高速化される
・主キーやインデックスの利用: 主キーやインデックスを定義できるため、データ検索が効率化される
・集計処理の効率化: 複雑な集計処理を事前に計算して保存することで、クエリの実行時間を短縮できる

デメリット
・リフレッシュの必要性: データの実体を持つため、定期的にリフレッシュして最新のデータに更新する必要がある
・管理オーバーヘッド: リフレッシュやインデックスの更新など、管理作業が増える可能性がある

マテリアライズドビューの機能と特徴
1. データの永続化
マテリアライズドビューは、SQLクエリの結果を物理的なテーブルとして保存する。
これにより、ビューを参照するたびにクエリを再実行する必要がなくなり、データ取得が高速化される。

2. 主キーやインデックスの定義
通常のビューとは異なり、マテリアライズドビューには主キーやインデックスを定義することができる。
これにより、データ検索の高速化やデータの重複防止が可能となる。

3. リフレッシュ機能
マテリアライズドビューはデータの実体を持つため、データの更新が必要。
この更新処理をリフレッシュと呼び、定期的に最新のデータに更新する必要がある。
リフレッシュの頻度は、ビジネスの特性やデータの更新サイクルに応じて設定される。

4. 集計処理の高速化
マテリアライズドビューは、複雑な集計処理を高速化する手段として有効。
頻繁に参照される集計結果を事前に計算して保存することで、クエリの実行時間を大幅に短縮できる。

5. データ整合性の確保
マテリアライズドビューを使用することで、集計データと元データの不整合を防ぐことができる。
これは、特に大規模なデータセットを扱う場合に重要。